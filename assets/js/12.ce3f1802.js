(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{434:function(s,a,t){"use strict";t.r(a);var n=t(15),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("cron 是 linux 的一个服务，用于执行定时任务。通过 crontab 来配置具体的时间周期和执行的任务。")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("crontab 的设置是针对当前用户的，任务的执行也是以当前用户的身份执行，如果对 root 设置，需要加 sudo")])]),s._v(" "),t("h2",{attrs:{id:"查看当前的定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看当前的定时任务"}},[s._v("#")]),s._v(" 查看当前的定时任务")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -l\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"编辑定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑定时任务"}},[s._v("#")]),s._v(" 编辑定时任务")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("第一次设置可能需要选择一个默认编辑器 如 vim、nano 等，根据自己的习惯选择。")]),s._v(" "),t("p",[s._v("如果后续需要修改默认编辑器，可执行以下命令，重新选择编辑器。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("select-editor\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"配置规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置规则"}},[s._v("#")]),s._v(" 配置规则")]),s._v(" "),t("p",[s._v("通常配置文件最后会有这个注释，是一个配置的模版")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("...\n# m h  dom mon dow   command\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("配置分为以下6个字段")]),s._v(" "),t("ul",[t("li",[s._v("m (minute) - 指定某个分钟 (0-59)")]),s._v(" "),t("li",[s._v("h (hour) - 指定某个时 (0-23)")]),s._v(" "),t("li",[s._v("dom (day-of-month) - 指定自然月中的某日 (1-31)")]),s._v(" "),t("li",[s._v("mon (month) - 指定某个月份 (1-12)")]),s._v(" "),t("li",[s._v("dow (Day-of-week) - 指定周几，0和7都表示周日 (0-7)")]),s._v(" "),t("li",[s._v("command - 执行的命令")])]),s._v(" "),t("h3",{attrs:{id:"示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# m h  dom mon dow   command\n\n* * * * *  cmd           # 每分钟执行\n0 * * * *  cmd           # 每个0分执行，即每个整点，如 00:00, 01:00 ... 23:00\n10 12 * * *  cmd         # 每个12:10执行，即每天的12:10\n0 0 10 * *  cmd          # 每个月10号的00:00执行\n0 0 * * 2  cmd           # 每个周二的00:00执行\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("这里的星号(*)可用在所有字段中，表示这个字段的每个节点")]),s._v(" "),t("h3",{attrs:{id:"高级用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级用法"}},[s._v("#")]),s._v(" 高级用法")]),s._v(" "),t("ul",[t("li",[s._v("减号(-) - 表达一个范围，如在小时字段中使用“10-12”，则表示从10到12点，即10,11,12")]),s._v(" "),t("li",[s._v("逗号(,) - 表达一个列表值，如在星期字段中使用“1,3,5”，则表示星期一，星期三和星期五")]),s._v(" "),t("li",[s._v("斜杠(/) - x/y表达一个等步长序列，x为起始值，y为增量步长值。如在分钟字段中使用0/15，则表示为0,15,30和45秒，而5/15在分钟字段中表示5,20,35,50，你也可以使用*/y，它等同于0/y")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# m h  dom mon dow   command\n\n20,50 * 1 * *  cmd       # 每个月1号当天的每个20分和50分执行，即 00:20, 00:50 ... 23:20, 23:50\n3,15 8-11 */2 * * cmd    # 每隔两天的上午8点到11点的每个3分和15分钟执行\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"重启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启服务"}},[s._v("#")]),s._v(" 重启服务")]),s._v(" "),t("p",[s._v("编辑完毕保存之后，需要重启服务才能生效")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cron")]),s._v(" restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);